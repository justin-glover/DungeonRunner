<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Dungeon Runner</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="media/css/bootstrap.min.css">
    <link rel="stylesheet" href="media/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="media/css/main.css">
    <!-- Scripts -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

    <script src="media/js/jquery-3.1.1.min.js"></script>
    <script src="media/js/bootstrap.min.js"></script>
    <script src="media/js/bootstrap-select.min.js"></script>
    <script src="media/js/universals.js"></script>
    <script src="media/js/runner.js"></script>
    <script src="media/js/xmlParser.js"></script>
    <script src="media/js/createCharacter.js"></script>
    <script src="media/js/createEncounters.js"></script>
    <script src="media/js/encounters.js"></script>
    <script src="media/js/createMonster.js"></script>

    <script>if (window.module) module = window.module;</script>
  </head>
  <body>
    <div id="dragArea"> </div>
    <div class="icon glyphicon glyphicon-minus" onclick="minimizeApp();" id="minimize"></div>
    <div class="icon glyphicon glyphicon-resize-full" onclick="maximizeToggle();" id="maximize"></div>
    <div class="icon glyphicon glyphicon-remove" id="close" onclick="closeApp();"></div>
    <div class="noDragArea">
      <ul class="nav nav-pills">
        <li class="active">
          <a href="#campaignTab" data-toggle="tab">Campaign</a>
        </li>
        <li>
          <a href="#encountersTab" data-toggle="tab">Encounters</a>
        </li>
        <li>
          <a href="#playerTab" data-toggle="tab">Characters</a>
        </li>
        <li>
          <a href="#bestiaryTab" data-toggle="tab">Bestiary</a>
        </li>
        <li>
          <a href="#spellTab" data-toggle="tab">Spells</a>
        </li>
        <li>
          <a href="#itemTab" data-toggle="tab">Items</a>
        </li>
      </ul>

      <div class="tab-content clearfix">
        <div class="tab-pane active" id="campaignTab">
          <h1 style="text-align: center;">Campaigns</h1>
        </div>


        <div class="tab-pane" id="encountersTab">
          <h1 style="text-align: center;">Encounters</h1>

          <div id="allEncounters">
            <button class="btn btn-info btn-lg" data-toggle="modal" onclick="setModalSize('#encounterCreator');" data-target="#encounterCreator">Create Encounter</button>

            <ul id="encountersList">
            </ul>
            <div class="modal fade" id="encounterCreator">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header" style="text-align: center;">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  Encounter Creator
                </div>
                <div class="modal-body">
                  <form>
                    <div class="form-group">
                      <input type="text" id="editEncounter" value="0" />
                      <label for="encounterNewName">Name</label>
                      <input type="text" class="form-control" id="encounterNewName" placeholder="D7. Temple">
                      <label for="hitDieCheck">Use Hit Die: </label>
                      <input id="hitDieCheck" type="checkbox" value="">
                      <label>Choose Participants</label>
                      <select class="form-control" id="encounterType">
                        <option>Monster</option>
                        <option>Character</option>
                      </select>
                      <select class="selectpicker" data-live-search="true" id="encounterChoice" multiple>
                      </select>
                      <button type="button" class="btn btn-info btn-sm" onclick="addParticipants();">
                        <span class="glyphicon glyphicon-plus"></span>
                      </button>


                      <div id="encounterSetup">
                        <h2 style="text-align: center;">Encounter Overview</h2>
                        <ul id="encounterNewOverview">
                        </ul>
                      </div>

                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-success btn-sm" onclick="saveNewEncounter();" data-dismiss="modal">Save Encounter</button>
                </div>
              </div>
            </div>
          </div>
          </div>
          <div id="runningEncounter">
            <div id="runningEncounterName">
              <h2 style="text-align: center; margin: 0px;"></h2>
              <div id="roundCount">
                <h2></h2>
              </div>
            </div>
            <div id="turnSelect">
                <h3>Turn Select:</h3>
                <button type="button" id="previousTurn" class="btn btn-info btn-lg" onclick="previousTurn();"><span class="glyphicon glyphicon-chevron-left"></span></button>
                <button type="button" id="nextTurn" class="btn btn-info btn-lg" onclick="nextTurn();"><span class="glyphicon glyphicon-chevron-right"></span></button>
              </div>
            <div id="modifierButtons">
                <button type="button" class="btn btn-danger btn-lg" id="damageButton" enabled="false" onclick="toggleDamage();"><span class="glyphicon glyphicon-fire"></span></button>
                <button type="button" class="btn btn-success btn-lg" id="healingButton" enabled="false" onclick="toggleHealing();"><span class="glyphicon glyphicon-plus-sign"></span></button>
                <button type="button" class="btn btn-info btn-lg" id="initButton" data-toggle="modal" data-target="#setInitiative" onclick="rollInitiative();">Roll Initiative</button>
                <button type="button" class="btn btn-danger btn-lg" id="dealDamageBtn" onclick="dealDamage();">Deal Damage</button>
                <input type="text" id="damageInput" />
                <button type="button" class="btn btn-success btn-lg" id="dealHealingBtn" onclick="heal();">Heal</button>
                <input type="text" id="healingInput" />
                <button type="button"class="btn btn-info btn-sm" id="closeEncounter" onclick="endEncounter();">End Encounter</button>
            </div>
            <div id="encounterList">
              <ul id="encounterOverview">
              </ul>
            </div>

            <div class="modal fade" id="setInitiative">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header" style="text-align: center;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    Set Initiative
                  </div>
                  <div class="modal-body">
                    <form>
                      <div class="form-group">
                        <ul id="initiativeList">
                        </ul>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-success btn-sm" data-dismiss="modal" onclick="saveInitiative();">Save Initiative</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>


        <div class="tab-pane" id="playerTab">
          <h1 style="text-align: center;">Player Characters</h1>
          <button id="createButton" class="btn btn-info btn-lg" data-toggle="modal" data-target="#characterCreator">Create a character</button>
          <button onclick="uploadRaces();">Upload Races</button>
          <button onclick="uploadClasses();">Upload Classes</button>
          <button onclick="uploadBackgrounds();">Upload Backgrounds</button>
          <button onclick="uploadFeats();">Upload Feats</button>
          <button onclick="uploadCharacter();">Upload Character</button>

          <ul id="characterList">
          </ul>

          <div class="modal fade" id="characterCreator">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header" style="text-align: center;">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  Create a Character
                </div>
                <div class="modal-body">
                  <form>
                    <div class="form-group">
                      <label for="charNewName">Name</label>
                      <input type="text" class="form-control" id="charNewName" placeholder="Bigguy Bigguns">

                      <label for="charNewPlayer">Player</label>
                      <input type="text" class="form-control" id="charNewPlayer" placeholder="Ethan Ethanson">

                      <label for="charNewSex">Sex</label>
                      <select class="form-control" id="charNewSex">
                        <option>Male</option>
                        <option>Female</option>
                      </select>

                      <label for="charNewAge">Age</label>
                      <input type="text" class="form-control" id="charNewAge" placeholder="23 years">

                      <label for="charNewHeight">Height</label>
                      <input type="text" class="form-control" id="charNewHeight">

                      <label for="charNewWeight">Weight</label>
                      <input type="text" class="form-control" id="charNewWeight" placeholder="170 lbs">

                      <label for="charNewRace">Race</label>
                      <select class="form-control" id="charNewRace">
                        <option>Aasimar</option>
                        <option>Bugbear</option>
                        <option>Dragonborn</option>
                        <option>Dwarf</option>
                        <option>Elf</option>
                        <option>Firbolg</option>
                        <option>Genasi</option>
                        <option>Gnome</option>
                        <option>Goblin</option>
                        <option>Goliath</option>
                        <option>Half-Elf</option>
                        <option>Half-Orc</option>
                        <option>Halfling</option>
                        <option>Hobgoblin</option>
                        <option>Human</option>
                        <option>Kenku</option>
                        <option>Kobold</option>
                        <option>Lizardfolk</option>
                        <option>Orc</option>
                        <option>Tabaxi</option>
                        <option>Tiefling</option>
                        <option>Triton</option>
                        <option>Yuan-Ti</option>
                      </select>

                      <label for="charNewSubrace">Subrace</label>
                      <select class="form-control" id="charNewSubrace">
                      </select>

                      <label for="charNewAlign">Alignment</label>
                      <select class="form-control" id="charNewAlign">
                        <option>Lawful Good</option>
                        <option>Lawful Neutral</option>
                        <option>Lawful Evil</option>
                        <option>Neutral Good</option>
                        <option>True Neutral</option>
                        <option>Neutral Evil</option>
                        <option>Chaotic Good</option>
                        <option>Chaotic Neutral</option>
                        <option>Chaotic Evil</option>
                      </select>

                      <label for="charNewXP">Experience</label>
                      <input type="text" class="form-control" id="charNewXP" placeholder="350">

                      <label for="charNewClass">Class</label>
                      <select class="form-control" id="charNewClass">
                        <option>Barbarian</option>
                        <option>Bard</option>
                        <option>Cleric</option>
                        <option>Druid</option>
                        <option>Fighter</option>
                        <option>Monk</option>
                        <option>Paladin</option>
                        <option>Ranger</option>
                        <option>Rogue</option>
                        <option>Sorcerer</option>
                        <option>Warlock</option>
                        <option>Wizard</option>
                      </select>

                      <label id="labelNewSubclass" for="charNewSubclass"></label>
                      <select class="form-control" id="charNewSubclass">
                      </select>

                      <label for="charNewBackground">Background</label>
                      <select class="form-control" id="charNewBackground">
                      </select>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button onclick="saveNewCharacter();">Save Character</button>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="tab-pane" id="bestiaryTab">
          <h1 style="text-align: center;">Bestiary</h1>
          <button onclick="loadXMLMonsterFile();">Load Monsters</button>
          <input type="text" id="monsterSearch" />

          <button id="createMonsterBtn" class="btn btn-info btn-lg" data-toggle="modal" data-target="#createMonster">Create a Monster</button>

          <ul id="monsterList">
          </ul>

          <div class="modal fade" id="createMonster">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-header" style="text-align: center;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    Create Monster
                  </div>
                  <div class="modal-body">
                    <form>
                      <div class="form-group" id="newMonster">
                          <div class="monster panel panel-default">
                            <div class="panel-heading">
                                <div class="headerInfo innerInfo">
                                    <div class="monsterName">
                                        <label for="newMonsterName">Name:</label>
                                        <h2><input type="text" id="newMonsterName" placeholder="Bibbidy Boo" /></h2>
                                    </div>
                                    <div class="monsterQuickInfo" style="margin-top: 0px;">
                                      <label for="newMonsterSize">Size:</label>
                                      <input type="text" id="newMonsterSize" placeholder="medium" />
                                      <label for="newMonsterType">Type:</label>
                                      <input type="text" id="newMonsterType" placeholder="undead"/>
                                      <label for="newMonsterAlign">Alignment:</label>
                                      <input type="text" id="newMonsterAlign" placeholder="lawful evil" />
                                    </div>
                                </div>
                            </div>
                            <div id="" class="panel monsterID">
                                <div class="panel-body">
                                    <div class="monsterStats">
                                        <div class="monsterQuickStats">
                                            <div class="monsterAC">
                                                <h4>Armor Class: </h4>
                                                <input type="text" id="newMonsterAC" placeholder="10"/>
                                            </div>
                                            <div class="monsterHP">
                                                <h4>HP: </h4>
                                                <input type="text" id="newMonsterHP" placeholder="5 (1d8)"/>
                                            </div>
                                            <div class="monsterSpeed">
                                                <h4>Speed: </h4>
                                                <input type="text" id="newMonsterSpeed" placeholder="30 ft"/>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="newMonsterAbilities">
                                            <div class="monsterSTR">
                                                <h5>STR</h5>
                                                <input type="number" id="newMonsterSTR" placeholder="10" />
                                            </div>
                                            <div class="monsterDEX">
                                                <h5>DEX</h5>
                                                <input type="number" id="newMonsterDEX" placeholder="10" />
                                            </div>
                                            <div class="monsterCON">
                                                <h5>CON</h5>
                                                <input type="number" id="newMonsterCON" placeholder="10" />
                                            </div>
                                            <div class="monsterINT">
                                                <h5>INT</h5>
                                                <input type="number" id="newMonsterINT" placeholder="10" />
                                            </div>
                                            <div class="monsterWIS">
                                                <h5>WIS</h5>
                                                <input type="number" id="newMonsterWIS" placeholder="10" />
                                            </div>
                                            <div class="monsterCHA">
                                                <h5>CHA</h5>
                                                <input type="number" id="newMonsterCHA" placeholder="10" />
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="monsterDetailBlock">
                                            <div class="monsterSaves">
                                              <h5>Saving Throws: </h5>
                                              <input type="text" id="newMonsterSaves" placeholder="dexterity"/>
                                            </div>
                                            <div class="monsterSkills">
                                                <h5>Skills: </h5>
                                                <input type="text" id="newmonsterSkills" placeholder="Perception +5"/>
                                            </div>
                                            <div class="monsterVulners">
                                                <h5>Damage Vulnerabilities: </h5>
                                                <input type="text" id="newMonsterVulners" placeholder="poison"/>
                                            </div>
                                            <div class="monsterResists">
                                                <h5>Damage Resistances: </h5>
                                                <input type="text" id="newMonsterResists" placeholder="fire"/>
                                            </div>
                                            <div class="monsterImmune">
                                                <h5>Damage Immunities: </h5>
                                                <input type="text" id="newMonsterImmune" placeholder="radiant"/>
                                            </div>
                                            <div class="monsterConditionImmune">
                                                <h5>Condition Immunities: </h5>
                                                <input type="text" id="newMonsterCoditionImmune" placeholder="poisoned"/>
                                            </div>
                                            <div class="monsterSenses">
                                                <h5>Senses: </h5>
                                                <input type="text" id="newMonsterSenses" placeholder="darkvision 60 ft"/>
                                            </div>
                                            <div class="monsterPassivePerception">
                                                <h5>Passive Perception: </h5>
                                            </div>
                                            <div class="monsterLanguage">
                                                <h5>Languages: </h5>
                                                <input type="text" id="newMonsterLanguage" placeholder="common"/>
                                            </div>
                                            <div class="monsterCR">
                                                <h5>Challenge: </h5>
                                                <input type="text" id="newMonsterCR" placeholder="5"/>
                                            </div>
                                        </div>
                                        <hr>
                                    </div>
                                    <div class="monsterTraits">
                                        <h2>Traits</h2>
                                        <div class="monsterTrait">
                                            <h4>Trait Name:<input type="text" class="newMonsterTrait" placeholder="Fast Dude"/></h4>
                                            <hr>
                                            <label for="newMonsterTrait">Description</label>
                                            <textarea rows="5" id="newMonsterTrait"></textarea>
                                        </div>
                                    </div>
                                    <div class="monsterActions">
                                        <h2>Actions</h2>
                                        <div class="monsterAction">
                                            <h4>Action Name:<input type="text" class="newMonsterTrait" placeholder="Claws"/></h4>
                                            </br>
                                            <label for="newMonsterAction">Description</label>
                                            <textarea rows="5" id="newMonsterAction"></textarea>
                                            <b>Hit:</b>
                                            <input type="text" id="newMonsterActionHit" placeholder="6 (1d8 + 1)" />
                                        </div>
                                    </div>
                                    <div class="monsterLegendaries">
                                        <h2>Legendary Actions</h2>
                                        <div class="monsterLegendary">
                                            <h4>Legendary Name:<input type="text" class="newMonsterLegendary" placeholder="Quick Strike"/></h4>
                                            <hr>
                                            <label for="newMonsterLegendary">Description</label>
                                            <textarea rows="5" id="newMonsterLegendary"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-success btn-sm" data-dismiss="modal" onclick="saveMonster();">Save Monster</button>
                  </div>
                </div>
              </div>
            </div>
        </div>


        <div class="tab-pane" id="spellTab">
          <h1 style="text-align: center;">Spells</h1>
          <button onclick="loadXMLSpellsFile();">Load Spells</button>
          <input type="text" id="spellSearch" />

          <ul id="spellList">
          </ul>
        </div>


        <div class="tab-pane" id="itemTab">
          <h1 style="text-align: center;">Items</h1>
          <button onclick="uploadItems();">Load Items</button>
          <input type="text" id="itemSearch" />

          <ul id="itemList">
          </ul>
        </div>
      </div>
      <div id="spellModList"></div>
      <div id="itemModList"></div>
    </div>
  </body>

  <script>
    // You can also require other files to run in this process
    require('./renderer.js')
  </script>
</html>
